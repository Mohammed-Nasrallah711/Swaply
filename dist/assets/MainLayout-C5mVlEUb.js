import{c as f,o as u,a as p,u as v,r as w,t as b,b as e,n as g,i as y,d as k,e as N,f as R,s as $,g as B,h as L,j as n,w as c,k as j,l as S,m as M,p as z,F as A,q as G,v as H,H as E}from"./index-BlBeKsLJ.js";import{r as F}from"./BellIcon-CefdiYAS.js";import{r as I}from"./UserIcon-BL1lMDJK.js";import{N as V}from"./NotificationsContainer-CEhJhoyi.js";function D(a,t){return u(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"})])}const T={class:"relative"},U={class:"text-[12px]"},x={__name:"SingleButtonGroup",props:{title:{type:String,default:"الملف الشخصي"},name:{type:String,default:"personal_profile"}},setup(a){const t=v();return(i,o)=>(u(),f("div",{class:g(["cursor-pointer flex flex-col justify-center items-center text-center transition-all p-2 min-w-16 h-full lg:w-36 max-lg:w-32 minimum font-light text-[14px] text-nowrap ml-0",{"bg-blue-100 dark:bg-gray-500":e(t).currentRoute.value.name===a.name,"hover:bg-gray-50 dark:hover:bg-gray-700":e(t).currentRoute.value.name!==a.name,"text-black dark:text-gray-300":e(t).currentRoute.value.name!==a.name,"dark:text-white":e(t).currentRoute.value.name===a.name}]),style:{"margin-left":"0"},onClick:o[0]||(o[0]=d=>e(t).push({name:a.name}))},[p("span",T,[w(i.$slots,"icon")]),p("span",U,b(a.title),1)],2))}},Y={key:0,class:"absolute -top-[2px] -right-[2px] bg-black dark:bg-blue-700 dark:text-white rounded-lg text-white w-4 h-4 flex items-center justify-center text-[10px] font-medium"},q={__name:"ButtonGroup",setup(a){const t=y("emitter"),i=k(!1),o=k(null),d=N();let r=null;const s=()=>{if(d.name==="personal_profile")return;const l=window.scrollY;i.value=l>=80},h=R(),{lastNotificationUnreadCount:m}=$(h);return B(()=>{r=l=>{if(o.value){if(l){o.value.style.zIndex="1";return}o.value.style.zIndex=i.value?"100000":"10000"}},t.on("hiddenButton",r),window.addEventListener("scroll",s),s()}),L(()=>{r&&t.off("hiddenButton",r),window.removeEventListener("scroll",s)}),(l,_)=>(u(),f("div",{ref_key:"buttonGroup",ref:o,class:g(["flex items-center justify-center dark:shadow-white/5 bg-white/80 backdrop-blur-md h-[4.25rem] rounded-2xl overflow-hidden space-x-4 dark:bg-gray-700/80 shadow-md p-0 left-0 right-0 mx-auto w-fit transition-all duration-300 ease-in-out",[i.value||e(d).name==="personal_profile"?"fixed top-2 z-[100000]":"absolute top-20 z-[10000]"]])},[n(x,{title:"الاسعار",name:"home"},{icon:c(()=>[n(e(j),{class:"w-6 h-6 text-black dark:text-white"})]),_:1}),n(x,{title:"التنبيهات",name:"notifications"},{icon:c(()=>[n(e(F),{class:"w-6 h-6 text-black dark:text-white"}),e(m)>0?(u(),f("span",Y,b(e(m)),1)):S("",!0)]),_:1}),n(x,{title:"المقايضة",name:"exchange"},{icon:c(()=>[n(e(D),{class:"w-6 h-6 text-black dark:text-white"})]),_:1}),n(x,{title:"الملف الشخصي",name:"personal_profile"},{icon:c(()=>[n(e(I),{class:"w-6 h-6 text-black dark:text-white"})]),_:1})],2))}},P={class:"dark:bg-gray-800 bg-gray-100"},J={__name:"AppLayout",setup(a){const t=v(),i=M(),{isAuth:o}=$(i),d=y("emitter"),r=z([]);return B(()=>{d.on("showNotificationAlert",([s="info",h,m=3e3])=>{const l=Date.now()+Math.random();r.push({id:l,message:h,type:s,duration:m}),setTimeout(()=>{const _=r.findIndex(C=>C.id===l);_!==-1&&r.splice(_,1)},m)})}),(s,h)=>(u(),f(A,null,[p("div",P,[p("div",{class:g(["mx-auto",{container:!["home","pricing","personal_profile"].includes(e(t).currentRoute.value.name)}])},[w(s.$slots,"title"),e(o)?w(s.$slots,"buttons",{key:0}):S("",!0),w(s.$slots,"default")],2)]),n(V,{notifications:r},null,8,["notifications"])],64))}},X={__name:"MainLayout",setup(a){return(t,i)=>{const o=H("router-view");return u(),G(J,null,{title:c(()=>[n(E)]),buttons:c(()=>[n(q)]),default:c(()=>[n(o)]),_:1})}}};export{X as default};
