import{c as m,o as l,a as e,d as k,r as R,t as w,n as q,am as ae,m as L,s as N,g as P,W as E,y as D,j as d,l as j,b as f,an as re,F as S,M as C,a1 as O,ao as le,ap as Y,p as se,i as J,a4 as I,q as V,aq as oe,ar as ne,as as ie,at as de,w as M,au as ce,aa as z,a6 as ue,L as K,ab as pe,a5 as me,ad as ve}from"./index-BlBeKsLJ.js";import{r as Q}from"./ShieldCheckIcon-GBP3dlsm.js";import{_ as F}from"./SelectListBox-C5TQ5uG5.js";import{r as be}from"./CheckIcon-enk7v0_e.js";import{r as ge,_ as X}from"./BaseSwitch-CnzZBtgG.js";import{r as ee}from"./UserIcon-BL1lMDJK.js";import{r as fe,a as xe}from"./Bars3Icon-NBBrb66D.js";import"./listbox-C2KpOBbF.js";function ye(u,n){return l(),m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M6 12a.75.75 0 0 1-.75-.75v-7.5a.75.75 0 1 1 1.5 0v7.5A.75.75 0 0 1 6 12ZM18 12a.75.75 0 0 1-.75-.75v-7.5a.75.75 0 0 1 1.5 0v7.5A.75.75 0 0 1 18 12ZM6.75 20.25v-1.5a.75.75 0 0 0-1.5 0v1.5a.75.75 0 0 0 1.5 0ZM18.75 18.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 1.5 0ZM12.75 5.25v-1.5a.75.75 0 0 0-1.5 0v1.5a.75.75 0 0 0 1.5 0ZM12 21a.75.75 0 0 1-.75-.75v-7.5a.75.75 0 0 1 1.5 0v7.5A.75.75 0 0 1 12 21ZM3.75 15a2.25 2.25 0 1 0 4.5 0 2.25 2.25 0 0 0-4.5 0ZM12 11.25a2.25 2.25 0 1 1 0-4.5 2.25 2.25 0 0 1 0 4.5ZM15.75 15a2.25 2.25 0 1 0 4.5 0 2.25 2.25 0 0 0-4.5 0Z"})])}function he(u,n){return l(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})])}function ke(u,n){return l(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function G(u,n){return l(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function _e(u,n){return l(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function we(u,n){return l(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})])}const $e=["href"],Se={class:"icon"},Ae={__name:"SidebarItem",props:{id:{type:String,required:!0},label:{type:String,required:!0},activeId:{type:String,required:!0}},emits:["update:activeId","scrollTo"],setup(u,{emit:n}){const t=u,s=n;k(!1);const r=()=>{s("update:activeId",t.id),s("scrollTo",{id:t.id,label:t.label})};return(p,y)=>(l(),m("li",null,[e("a",{href:"#"+u.id,onClick:ae(r,["prevent"]),class:q(["flex items-center gap-3 p-[10px] rounded-lg transition-colors font-medium text-[16px]",u.activeId===u.id?"text-white bg-blue-700 dark:bg-gray-600":"text-blue-950 hover:bg-blue-100 dark:text-gray-200 dark:hover:bg-gray-700"])},[e("span",Se,[R(p.$slots,"icon")]),e("span",null,w(u.label),1)],10,$e)]))}},Ce={class:"title font-semibold text-lg text-blue-950 dark:text-white pr-2"},B={__name:"SecondaryTitle",props:{label:{type:String,required:!0}},setup(u){return(n,t)=>(l(),m("h3",Ce,w(u.label),1))}},Ue={key:0,class:"border rounded-xl p-6 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"},Ve={class:"info flex items-center gap-4 mb-7"},je={class:"icon bg-gray-100 dark:bg-gray-700 h-14 w-14 flex items-center justify-center rounded-full font-medium text-[14px] text-blue-950 dark:text-white"},Me={class:"font-medium"},Te={class:"text-blue-950 dark:text-white text-xl"},Ne={class:"degree text-gray-700 dark:text-gray-300 text-[12px] font-medium mt-1"},Ie={class:"flex mt-1 -mr-1"},Be={class:"text-[12px] flex items-center gap-2 text-blue-950 dark:text-gray-200"},Ze={dir:"ltr"},qe={key:0,class:"text-[9px] bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-300 py-[6px] px-[8px] rounded-2xl flex items-center gap-1 ml-2 w-fit justify-center mr-2"},De={class:"degree-ability mt-4"},Le={class:"flex items-center justify-between mb-2"},Pe={class:"text-blue-950 dark:text-white font-normal text-[13px]"},Re={class:"w-full h-2 rounded-md bg-blue-200 dark:bg-gray-700 relative"},Ee={class:"flex gap-4 items-center justify-between mt-4"},Fe={class:"box flex-1 text-center bg-green-100 dark:bg-green-700/60 p-4 rounded-lg"},He={class:"font-semibold text-[32px] text-green-600 dark:text-green-300"},Oe={class:"box flex-1 text-center bg-blue-100 dark:bg-blue-700/60 p-4 rounded-lg"},ze={class:"font-semibold text-[32px] text-blue-600 dark:text-blue-300"},Ge={__name:"PersonalSection",setup(u){const n=L(),{user:t}=N(n),s=k(0),r=k(!1);P(async()=>{try{r.value=!0;const g=await E.get("/chat/user/reliability-score");s.value=g.data.score||0}catch(g){console.error("Failed to fetch reliability score:",g),s.value=0}finally{r.value=!1}});const p=D(()=>{const g=t.value&&t.value.created_at;if(!g)return"";const o=new Date(g);if(isNaN(o.getTime()))return"";const x=o.toLocaleDateString("ar-EG",{month:"long"}),v=o.getFullYear();return`انضم في ${x} ${v}`}),y=D(()=>{const o=(t.value&&t.value.name?String(t.value.name):"").trim().split(" ").filter(Boolean),x=(o[0]?.charAt(0)||"").toUpperCase(),v=(o[1]?.charAt(0)||"").toUpperCase();return x+v||""});return(g,o)=>(l(),m(S,null,[d(B,{label:"الملف الشخصي",class:"mb-3"}),f(t)?(l(),m("div",Ue,[e("div",Ve,[e("div",je,w(y.value),1),e("div",null,[e("span",Me,[e("p",Te,w(f(t)?.name||""),1),e("p",Ne,w(p.value),1),e("p",Ie,[e("span",Be,[d(f(we),{class:"w-4 h-4 text-blue-950 dark:text-gray-200"}),e("span",Ze,w(f(t)?.phone||"غير مسجل"),1)]),f(t)?.is_trusty?(l(),m("span",qe,[d(f(Q),{class:"w-3 h-3"}),o[0]||(o[0]=e("span",null,"موثوق",-1))])):j("",!0)])])])]),o[4]||(o[4]=e("span",{class:"block w-full h-[1px] bg-gray-300 dark:bg-gray-600"},null,-1)),e("div",De,[e("div",Le,[o[1]||(o[1]=e("span",{class:"font-normal text-gray-700 dark:text-gray-300 text-[13px]"},"درجة الموثوقية",-1)),e("span",Pe,w(r.value?"...":Math.round(s.value)+"%"),1)]),e("div",Re,[e("div",{class:"absolute left-0 top-0 h-full bg-blue-950 dark:bg-white rounded-md transition-all duration-300",style:re({width:Math.min(100,Math.max(0,s.value))+"%"})},null,4)])]),e("div",Ee,[e("div",Fe,[e("span",He,w(f(t)?.accurate_reports_count??0),1),o[2]||(o[2]=e("p",{class:"font-normal text-[14px] text-green-800 dark:text-green-200"}," بلاغات دقيقة ",-1))]),e("div",Oe,[e("span",ze,w(f(t)?.barters_count??0),1),o[3]||(o[3]=e("p",{class:"font-normal text-[14px] text-blue-800 dark:text-blue-200"}," مقايضات ناجحة ",-1))])])])):j("",!0)],64))}},We={class:"last-of-type:border-none border-b last-of-type:p-0 pb-3 mt-4 first-of-type:mt-0 dark:border-gray-700"},Ye={class:"text-gray-600 dark:text-gray-300 font-medium text-[14px] mb-3 block"},Je={key:0,class:"flex items-center gap-4 mt-3"},Ke=["type"],Qe={key:0,class:"text-red-500 text-sm mt-1"},Xe={class:"action flex justify-end gap-1"},et={key:1,class:"font-medium flex items-center justify-between text-blue-950 dark:text-white"},tt={dir:"ltr"},H={__name:"SingleSettingAccountBox",props:{id:{type:String,required:!0},label:{type:String,required:!0},value:{type:String,required:!0},buttonLabel:{type:String,default:"تعديل"},inputType:{type:String,default:"text"},error:{type:String,default:null}},emits:["update","update:value"],setup(u,{emit:n}){const t=u,s=n,r=k("");C(()=>t.value,x=>{r.value=x==="غير معروف"||x==="password"?"":x},{immediate:!0});const p=k(!1),y=D(()=>t.inputType==="password"?"*".repeat(t.value.length):t.value),g=()=>{s("update",{id:t.id,value:r.value}),s("update:value",r.value),p.value=!1},o=()=>{r.value=t.value,p.value=!1};return(x,v)=>(l(),m("div",We,[e("span",Ye,w(u.label),1),p.value?(l(),m("div",Je,[O(e("input",{type:u.inputType,"onUpdate:modelValue":v[0]||(v[0]=h=>r.value=h),class:"rounded-md w-full p-[6px] block placeholder:text-[14px] font-medium bg-gray-100 text-blue-950 focus:border-gray-500 focus:ring-gray-500 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400 dark:focus:border-gray-400 dark:focus:ring-gray-400 text-right",dir:"ltr"},null,8,Ke),[[le,r.value]]),u.error?(l(),m("p",Qe,w(u.error),1)):j("",!0),e("div",Xe,[e("span",{onClick:g,class:"cursor-pointer w-9 h-7 rounded-md flex items-center justify-center active:bg-gray-200 dark:active:bg-gray-600"},[d(f(be),{class:"w-5 h-5 dark:text-white"})]),e("span",{onClick:o,class:"cursor-pointer w-9 h-7 rounded-md flex items-center justify-center active:bg-gray-200 dark:active:bg-gray-600"},[d(f(ge),{class:"w-5 h-5 dark:text-white"})])])])):(l(),m("div",et,[e("p",tt,w(y.value),1),e("button",{onClick:v[1]||(v[1]=h=>p.value=!0),class:"w-fit border rounded-lg py-2 px-4 text-[12px] font-medium transition border-gray-200 hover:bg-gray-100 focus:bg-gray-100 dark:border-gray-600 dark:text-white dark:hover:bg-gray-700 dark:focus:bg-gray-700",dir:"ltr"},w(u.buttonLabel),1)]))]))}},at={class:"border rounded-xl p-6 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"},rt={key:0,class:"last-of-type:border-none border-b last-of-type:p-0 pb-3 mt-4 first-of-type:mt-0 dark:border-gray-700"},lt={class:"flex justify-between items-center"},st={class:"flex items-center gap-2"},ot={class:"text-green-600 dark:text-green-400"},nt={class:"text-[14px] font-normal text-gray-600 dark:text-gray-300"},it={class:"last-of-type:border-none border-b last-of-type:p-0 pb-3 mt-4 first-of-type:mt-0 dark:border-gray-700"},dt={class:"flex flex-col gap-2"},ct={class:"last-of-type:border-none border-b last-of-type:p-0 pb-3 mt-4 first-of-type:mt-0 dark:border-gray-700"},ut={class:"flex flex-col gap-2"},pt={class:"flex justify-between items-center"},mt={for:"store_image",class:"w-fit border rounded-lg py-2 px-4 text-[12px] font-medium transition cursor-pointer border-gray-200 hover:bg-gray-100 focus:bg-gray-100 dark:border-gray-600 dark:text-white dark:hover:bg-gray-700 dark:focus:bg-gray-700"},vt={key:0,class:"mt-4"},bt=["src"],gt={__name:"SettingAccount",setup(u){const n=L(),{user:t}=N(n),s=Y(),{cities:r}=N(s),p=k([{id:"name",label:"الاسم",value:t.value?.name??""},{id:"email",label:"الايميل",value:t.value?.email??"غير معروف"},{id:"phone",label:"رقم الهاتف",value:t.value?.phone??"غير معروف"}]),y=[{id:"1",name:"مستهلك",label:"حساب مستهلك"},{id:"2",name:"تاجر",label:"حساب تجاري"}],g=se([{id:"name",label:"اسم المحل",value:t.value?.store?.name??"غير معروف"},{id:"address",label:"عنوان المحل",value:t.value?.store?.address??"غير معروف"}]),o=D({get(){return t.value?.role==="merchant"?y[1]:y[0]},set(a){t.value&&(t.value.role=a.name==="تاجر"?"merchant":"customer")}});C(()=>o.value,(a,b)=>{a.name!==b.name&&n.update({role:a.name==="تاجر"?"merchant":"customer"})});const x=k(null),v=J("emitter"),h=k(t.value?.store?.image??null),A=a=>{const b=a.target.files[0];b&&(x.value=b,h.value=URL.createObjectURL(b))};C(x,async a=>{if(a){const b=new FormData;b.append("image",a),b.append("_method","PUT");try{(await E.post("/merchant/store",b,{headers:{"Content-Type":"multipart/form-data"}})).status===200&&v.emit("showNotificationAlert",["success","تم تحديث صورة المتجر بنجاح!"])}catch{v.emit("showNotificationAlert",["error","حدث خطأ أثناء رفع الصورة. حاول مرة أخرى."])}}});const $=D({get:()=>t.value?.store?.city,set:a=>{if(t.value)return t.value.store?t.value.store.city=a:t.value.store={city:a}}});C(()=>t.value?.store?.city,a=>{a?.id&&c({id:"city_id",value:a.id})});const i=async a=>{const b=k(-1),_=p.value.find((Z,te)=>(b.value=te,Z.id===a.id)),U=_?.value;if(a.id==="email"){const Z=ne().email().isValidSync(a.value);if(a.value&&!Z){p.value[b.value].value=U,v.emit("showNotificationAlert",["error","صيغة البريد الإلكتروني غير صحيحة"]);return}}if(a.id==="phone"){const Z=/^\+97[0-9]{10}$/;if(a.value&&!Z.test(a.value)){v.emit("showNotificationAlert",["error","رقم الهاتف يجب أن يبدأ بـ +97 ويتبعه 10 أرقام"]),p.value[b.value].value=U;return}}try{await n.update({[a.id]:a.value}),v.emit("showNotificationAlert",["success","تم تحديث بيانات المتجر بنجاح!"])}catch{_.value=U,v.emit("showNotificationAlert",["error","حدث خطأ أثناء تحديث البيانات. حاول مرة أخرى."])}},c=async a=>{try{(await E.put("/merchant/store",{[a.id]:a.value})).status==200&&v.emit("showNotificationAlert",["success","تم تحديث بيانات المتجر بنجاح!"])}catch{}};return P(async()=>{await s.fetchAllCities()}),(a,b)=>(l(),m(S,null,[d(B,{label:"اعدادات الحساب",class:"mb-3"}),e("div",at,[(l(!0),m(S,null,I(p.value,_=>(l(),V(H,{key:_.label,label:_.label,value:_.value,"onUpdate:value":U=>_.value=U,id:_.id,class:"dark:text-white",onUpdate:i},null,8,["label","value","onUpdate:value","id"]))),128)),f(t)?.role!="admin"?(l(),m("div",rt,[b[2]||(b[2]=e("span",{class:"text-gray-600 dark:text-gray-300 font-medium text-[14px] mb-3 block"}," نوع الحساب ",-1)),e("div",lt,[d(F,{options:y,modelValue:o.value,"onUpdate:modelValue":b[0]||(b[0]=_=>o.value=_)},null,8,["modelValue"]),e("div",st,[e("span",ot,[o.value.name==="مستهلك"?(l(),V(f(ee),{key:0,class:"w-5"})):(l(),V(f(oe),{key:1,class:"w-5 h-5"}))]),e("span",nt,w(o.value.label),1)])])])):j("",!0),o.value.name=="تاجر"?(l(),m(S,{key:1},[(l(!0),m(S,null,I(g,_=>(l(),V(H,{key:_.label,id:_.id,label:_.label,value:_.value,"onUpdate:value":U=>_.value=U,class:"dark:text-white",onUpdate:c},null,8,["id","label","value","onUpdate:value"]))),128)),e("div",it,[e("div",dt,[b[3]||(b[3]=e("span",{class:"text-gray-600 dark:text-gray-300 font-medium text-[14px] mb-3 block"}," موقع المتجر ",-1)),d(F,{class:"w-full",modelValue:$.value,"onUpdate:modelValue":b[1]||(b[1]=_=>$.value=_),options:f(r),label:"اختر المدينة التي بها متجرك "},null,8,["modelValue","options"])])]),e("div",ct,[e("div",ut,[e("div",pt,[b[4]||(b[4]=e("span",{class:"text-gray-600 dark:text-gray-300 font-medium text-[14px] mb-3 block"}," صورة المتجر ",-1)),e("label",mt,w(f(t)?.store?.image||h.value?"تعديل الصورة":"اضافة صورة"),1),e("input",{type:"file",hidden:"",id:"store_image",accept:"image/*",onChange:A},null,32)]),h.value?(l(),m("div",vt,[e("img",{src:h.value,alt:"معاينة الصورة",class:"w-1/3 object-cover rounded-md mx-auto"},null,8,bt)])):j("",!0)])])],64)):j("",!0)])],64))}},ft={class:"flex items-center justify-center gap-2"},xt=["name","id","value"],yt=["for"],W={__name:"RadioComponent",props:{items:{type:Array,required:!0},name:{type:String,required:!0},selected:{type:String,required:!0}},emits:["update:selected"],setup(u,{emit:n}){const t=u,s=n,r=D({get(){return t.selected},set(p){s("update:selected",p)}});return(p,y)=>(l(),m("div",ft,[(l(!0),m(S,null,I(u.items,g=>(l(),m("div",{key:g.id},[O(e("input",{type:"radio",name:u.name,id:g.id,value:g.id,"onUpdate:modelValue":y[0]||(y[0]=o=>r.value=o),class:"hidden"},null,8,xt),[[ie,r.value]]),e("label",{for:g.id,class:q({"rounded-md px-4 py-2 cursor-pointer font-normal text-[14px]":!0,"bg-blue-700 text-white dark:bg-blue-700 dark:text-white":r.value===g.id,"text-black bg-white border border-gray-200 hover:bg-gray-200 transition dark:text-white dark:bg-gray-800 dark:border-gray-600 dark:hover:bg-gray-700":r.value!==g.id})},w(g.label),11,yt)]))),128))]))}},ht={class:"last-of-type:border-none border-b dark:border-gray-700 last-of-type:p-0 pb-3 mt-4 first-of-type:mt-0"},kt={class:"flex items-center justify-between"},_t={class:"text-blue-950 dark:text-white font-medium text-[16px] mb-1 block"},wt={class:"text-gray-600 dark:text-gray-300 font-normal text-[14px] mb-2 block"},T={__name:"SingleFavoriteStructure",props:{title:{type:String,required:!0},description:{type:String,required:!0}},setup(u){return(n,t)=>(l(),m("div",ht,[e("div",kt,[e("div",null,[e("span",_t,w(u.title),1),e("span",wt,w(u.description),1)]),e("div",null,[R(n.$slots,"action")])]),R(n.$slots,"default")]))}},$t={class:"border rounded-xl p-6 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"},St={__name:"FavoriteSetting",setup(u){const n=L(),{user:t}=N(n),s=k(!!t.value?.recive_notification),r=k(t.value?.currency||"ILS");C(r,async v=>{t.value&&(await n.update({currency:v}),t.value.currency=v)}),C(s,async v=>{t.value&&(await n.update({recive_notification:+v}),t.value.recive_notification=v)});const p=[{label:"دولار",id:"USD"},{label:"شيكل",id:"ILS"}],y=de(),g=N(y),{currentTheme:o}=g,x=y.themes;return C(o,async v=>{t.value&&await y.changeTheme(v,!0)}),(v,h)=>(l(),m(S,null,[d(B,{label:"التفضيلات",class:"mb-3"}),e("div",$t,[d(T,{title:"المظهر",description:"اختر مظهر التطبيق"},{action:M(()=>[d(W,{items:f(x),name:"theme",selected:f(o),"onUpdate:selected":h[0]||(h[0]=A=>ce(o)?o.value=A:null)},null,8,["items","selected"])]),_:1}),d(T,{title:"الوحدة",description:"وحدة قياس الاسعار"},{action:M(()=>[d(W,{items:p,name:"currency",selected:r.value,"onUpdate:selected":h[1]||(h[1]=A=>r.value=A)},null,8,["selected"])]),_:1}),d(T,{title:"التنبيهات",description:"تفعيل إشعارات الاسعار"},{action:M(()=>[d(X,{"model-value":s.value,"onUpdate:modelValue":h[2]||(h[2]=A=>s.value=A)},null,8,["model-value"])]),_:1})])],64))}},At={class:"border rounded-xl p-6 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"},Ct={class:"mt-4"},Ut={__name:"PrivacyAndSecurity",setup(u){const n=k({dialog:!1}),t=L(),{user:s}=N(t),r=k("password"),p=k(""),y=k(!1),g=k(!1),o=J("emitter"),x=Y(),{cities:v}=N(x),h=()=>{y.value=!0,p.value="",g.value=n.value.dialog},A=async()=>{if(g.value){if(!p.value){o?.emit("showNotificationAlert",["error","يرجى إدخال كلمة المرور الحالية"]);return}await $(p.value);return}if(r.value===""){o?.emit("showNotificationAlert",["error","يرجى إدخال كلمة مرور جديدة"]);return}if(r.value.length<6){o?.emit("showNotificationAlert",["error","كلمة المرور يجب أن تكون 6 أحرف على الأقل"]);return}if(p.value===""){o?.emit("showNotificationAlert",["error","يرجى إدخال كلمة المرور الحالية"]);return}try{await t.update({password:r.value,current_password:p.value}),r.value="password",p.value="",y.value=!1}catch{}};C(()=>s.value?.city,async i=>{i?.id&&await t.update({city_id:i.id})}),C(()=>s.value?.share_location,async i=>{s.value&&await t.update({share_location:+i},!1)});const $=async i=>{try{await t.deleteAccount(i),n.value.dialog=!1}catch{}};return P(async()=>{await x.fetchAllCities()}),(i,c)=>(l(),m(S,null,[d(B,{label:"الخصوصية و الامان",class:"mb-3"}),e("div",At,[d(H,{label:"كلمة المرور",value:r.value,"onUpdate:value":c[0]||(c[0]=a=>r.value=a),"input-type":"password",id:"password",onUpdate:h},null,8,["value"]),d(T,{title:"مشاركة الموقع",description:"السماح بمشاركة موقعك"},{action:M(()=>[d(X,{"model-value":!!f(s)?.share_location,"onUpdate:modelValue":c[1]||(c[1]=a=>{f(s)&&(f(s).share_location=a?1:0)})},null,8,["model-value"])]),default:M(()=>[f(s)?.share_location&&f(s)?(l(),V(F,{key:0,class:"w-full",modelValue:f(s).city,"onUpdate:modelValue":c[2]||(c[2]=a=>f(s).city=a),options:f(v),label:"اختر المدينة التي تقيم فيها"},null,8,["modelValue","options"])):j("",!0)]),_:1}),e("div",Ct,[c[7]||(c[7]=e("p",{class:"text-red-700 bg-red-100 dark:text-red-200 dark:bg-red-800/70 font-medium text-[16px] mb-3 flex w-fit px-3 py-1 rounded-full"}," منطقة خطر ",-1)),e("button",{onClick:c[3]||(c[3]=a=>n.value.dialog=!0),class:"font-medium text-white bg-red-600 hover:bg-red-600/90 transition-opacity rounded-lg w-full block py-3"}," حذف الحساب "),c[8]||(c[8]=e("p",{class:"text-[12px] text-gray-500 dark:text-gray-300 mt-2 text-center font-normal"}," حذف الحساب سوف يؤدي الي فقدان جميع البيانات بشكل نهائي ",-1))])]),d(z,{modelValue:n.value.dialog,"onUpdate:modelValue":c[4]||(c[4]=a=>n.value.dialog=a),title:"حذف الحساب",message:"هل أنت متأكد من رغبتك بحذف حسابك؟ هذا الإجراء لا يمكن التراجع عنه.","button-label":"حذف الحساب",onConfirm:h},null,8,["modelValue"]),d(z,{modelValue:y.value,"onUpdate:modelValue":c[6]||(c[6]=a=>y.value=a),title:"تأكيد كلمة المرور",message:"يرجى إدخال كلمة المرور الحالية لتأكيد التغيير.","button-label":"تأكيد",onConfirm:A},{default:M(()=>[O(e("input",{type:"password","onUpdate:modelValue":c[5]||(c[5]=a=>p.value=a),class:"rounded-md w-full p-[6px] block placeholder:text-[14px] font-medium bg-gray-100 text-blue-950 focus:border-gray-500 focus:ring-gray-500 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400 dark:focus:border-gray-400 dark:focus:ring-gray-400 text-right",dir:"ltr",placeholder:"كلمة المرور"},null,512),[[ue,p.value]])]),_:1},8,["modelValue"])],64))}},Vt={class:"border rounded-xl p-6 pb-9 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"},jt={__name:"PrivacyPolicy",setup(u){const n=[{title:"جمع المعلومات",text:"نحن نجمع المعلومات التي تقدمها لنا مباشرة, مثل عندما تقوم بانشاء حساب او الاتصال بنا. قد نجمع ايضا معلومات حول كيفية استخدامك للتطبيق."},{title:"استخدام المعلومات",text:"نستخدم المعلومات التي نجمعها لتقديم وتحسين خدماتنا, وللتواصل معك ولحماية حقوقنا و حقوق المستخدمين الاخرين."},{title:"مشاركة المعلومات",text:"لا نبيع او ناجر معلوماتك الشخصية لاطراف ثالثة. قد نشارك معلومات مجمعة و مجهولة الهوية لاغراض التحيل و التحسين."}];return(t,s)=>(l(),m(S,null,[d(B,{label:"سياسة الخصوصية",class:"mb-3"}),e("div",Vt,[(l(),m(S,null,I(n,r=>d(T,{key:r.title,class:"pb-0 border-none -mb-4",title:r.title,description:r.text},null,8,["title","description"])),64))])],64))}},Mt={class:"border rounded-xl p-6 pb-9 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"},Tt={__name:"TermsAndConditions",setup(u){const n=[{title:"قبول الشروط",text:"باستخدام هذا التطبيق, فالك توافق على الالتزام بهذه الشروط و الاحكام. اذا كنت لا توافق على اي من هذه الشروط, يرجى عدم استخدام التطبيق"},{title:"استخدام الخدمة",text:"يجب عليك استخدام التطبيق بطريقة قانونية ومسؤولة. لا يجوز لك استخدام التطبيق لاي اغراض غير قانونية او محضورة."},{title:"المسؤولية",text:"نحن نبذل قصارى جهدنا لضمان دقة المعلومات المقدمة, لكننا لا نضمن صحة جميع البيانات المدخلة من قبل المستخدمين."}];return(t,s)=>(l(),m(S,null,[d(B,{label:"الشروط و الاحكام",class:"mb-3"}),e("div",Mt,[(l(),m(S,null,I(n,r=>d(T,{key:r.title,class:"pb-0 border-none -mb-4",title:r.title,description:r.text},null,8,["title","description"])),64))])],64))}},Nt={class:"border rounded-xl p-6 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"},It={__name:"AboutApp",setup(u){return(n,t)=>(l(),m(S,null,[d(B,{label:"حول التطبيق",class:"mb-3"}),e("div",Nt,[t[0]||(t[0]=e("div",{class:"last-of-type:border-none border-b dark:border-gray-700 last-of-type:p-0 pb-3 mt-4 first-of-type:mt-0 flex items-center"},[e("div",null,[e("span",{class:"text-blue-950 dark:text-white font-bold text-[26px] mb-3 block"},"نبض الاسعار"),e("span",{class:"text-gray-600 dark:text-gray-300 font-medium text-[20px] mb-2 block"},"الاصدار 1.0.0")])],-1)),d(T,{class:"pb-0 border-none -mb-2",title:"مهمتنا",description:"نبض هي منصة مصممة لخدمة المجتمع في أوقات الأزمات من خلال توفير معلومات دقيقة ومحدثة عن أسعار الموارد الأساسية والسلع."}),t[1]||(t[1]=pe('<div class="mt-4" data-v-54011810><span class="text-black dark:text-white font-medium text-[16px] mb-3 block" data-v-54011810>ميزاتنا</span><span class="text-gray-600 dark:text-gray-300 font-medium text-[14px] mb-2 block" data-v-54011810><ul class="list-disc pr-4" data-v-54011810><li class="mb-1" data-v-54011810>تتبع أسعار المنتجات والمتاجر</li><li class="mb-1" data-v-54011810>نظام تنبيهات ذكي لانخفاض الاسعار</li><li class="mb-1" data-v-54011810>منصة مقايضة مجتمعية موثوقة</li><li class="mb-1" data-v-54011810>محادثات مباشرة للتفاوض</li><li class="mb-1" data-v-54011810>قائمة مفضلات وعروض خاصة</li><li class="mb-1" data-v-54011810>البحث بالموقع والتصنيفات</li></ul></span></div><div class="last-of-type:border-none border-b last-of-type:p-0 mt-4 first-of-type:mt-0 flex" data-v-54011810><div data-v-54011810><span class="text-black dark:text-white font-medium text-[16px] mb-3 block" data-v-54011810>تواصل معنا</span><span class="text-gray-600 dark:text-gray-300 font-medium text-[14px] mb-2 block" data-v-54011810> للدعم و الاستفسارات: support@pricepulse.app </span></div></div>',2))])],64))}},Bt=K(It,[["__scopeId","data-v-54011810"]]),Zt={class:"header flex items-center justify-between fixed left-0 top-0 right-0 p-4 pt-20 border-b dark:border-gray-700 bg-gray-100 dark:bg-gray-800 z-50"},qt={class:"flex items-center gap-5 container"},Dt={class:"flex items-center gap-2"},Lt={class:"text-black dark:text-white font-semibold text-[16px] sm:text-[20px]"},Pt={class:"flex mt-[127px] h-[calc(100vh - 127px)] overflow-hidden"},Rt={class:"relative"},Et={class:"group-name text-gray-600 dark:text-gray-300 font-normal text-[14px] mb-3"},Ft={__name:"ProfileView",setup(u){const n=L(),t=[{group_name:"الحساب",items:[{id:"personal_page",label:"الملف الشخصي",icon:ee},{id:"setting",label:"الاعدادات",icon:ke}]},{group_name:"التخصص و التحكم",items:[{id:"preferences",label:"التفضيلات",icon:ye},{id:"privacy-security",label:"الخصوصية و الامان",icon:Q}]},{group_name:"أخرى",items:[{id:"privacy-policy",label:"سياسة الخصوصية",icon:G},{id:"terms-conditions",label:"الشروط و الاحكام",icon:G},{id:"about",label:"حول",icon:_e}]}],s=k("personal_page"),r=k({}),p=$=>i=>{i&&(r.value[$]=i)};let y=null,g=!1;const o=({id:$,label:i})=>{g=!0,r.value[$]?.scrollIntoView({behavior:"smooth",block:"start"}),x.value&&(x.value=!1),h.value=i,setTimeout(()=>{g=!1},500)},x=k(!1),v=k(null),h=k("الملف الشخصي");P(()=>{y=new IntersectionObserver($=>{g||$.forEach(i=>{if(i.isIntersecting){const c=i.target.id;s.value=c;const a=A(c);a&&(h.value=a)}})},{root:v.value,threshold:.8}),Object.values(r.value).forEach($=>y.observe($))}),me(()=>{y&&y.disconnect()});const A=$=>{for(const i of t){const c=i.items.find(a=>a.id===$);if(c)return c.label}return null};return($,i)=>(l(),m(S,null,[e("div",Zt,[e("div",qt,[e("div",Dt,[d(f(fe),{class:"w-6 h-6 cursor-pointer block lg:hidden text-black dark:text-white",onClick:i[0]||(i[0]=c=>x.value=!x.value)}),d(f(he),{class:"w-4 h-4 cursor-pointer hidden lg:block text-black dark:text-white",onClick:i[1]||(i[1]=c=>$.$router.push({name:"home"}))})]),e("p",Lt," لوحة التحكم - "+w(h.value),1)])]),e("div",Pt,[e("nav",{class:q(["side-bar w-full lg:w-1/4 border-l top-0 absolute dark:border-gray-700 h-[calc(100vh - 127px)] lg:relative lg:right-0 max-w-[280px] p-4 transition-all lg:max-h-[calc(100vh-127px)] lg:overflow-y-auto lg:overflow-x-hidden duration-[0.4s]",{"bg-white dark:bg-gray-800 h-screen z-[1000000000] right-0":x.value,"-right-full":!x.value}])},[e("ul",Rt,[(l(),m(S,null,I(t,c=>e("li",{key:c.group_name,class:"mb-4"},[e("p",Et,w(c.group_name),1),e("ul",null,[(l(!0),m(S,null,I(c.items,a=>(l(),V(Ae,{key:a.id,id:a.id,label:a.label,class:q({"text-white bg-back rounded-lg":s.value===a.id,"mb-[6px]":!0,"text-black dark:text-white":s.value!==a.id}),"active-id":s.value,"onUpdate:activeId":i[2]||(i[2]=b=>s.value=b),onScrollTo:i[3]||(i[3]=b=>o(b))},{icon:M(()=>[(l(),V(ve(a.icon),{class:q(["h-5 w-5 dark:text-white",{"text-white":s.value===a.id,"text-blue-950":s.value!==a.id}])},null,8,["class"]))]),_:2},1032,["id","label","class","active-id"]))),128))])])),64)),i[6]||(i[6]=e("span",{class:"absolute block w-full h-[2px] rounded bg-gray-300 dark:bg-gray-600"},null,-1))]),e("button",{class:"text-white w-full flex items-center justify-center gap-3 py-2 font-medium rounded-lg text-[14px] mt-8 bg-red-600 hover:bg-red-700 dark:hover:saturate-[120%] border-red-600 ring-1 ring-red-600 ring-offset-0 ring-offset-white dark:ring-offset-gray-900 hover:ring-offset-2 transition duration-200",onClick:i[4]||(i[4]=c=>f(n).logout())},[d(f(xe),{class:"w-5 h-5"}),i[7]||(i[7]=e("span",null,"تسجيل الخروج",-1))])],2),e("span",{class:q(["overlay w-screen h-screen transition-all duration-[0.4s] absolute top-0 left-0 z-[100000000]",{"block lg:hidden bg-black bg-opacity-25 dark:bg-white dark:bg-opacity-25":x.value,hidden:!x.value}]),onClick:i[5]||(i[5]=c=>x.value=!1)},null,2),e("main",{class:"container mx-auto lg:mr-0 lg:ml-auto max-h-[calc(100vh-127px)] overflow-y-auto scrollbar-hide lg:w-3/4",ref_key:"scrollContainer",ref:v},[e("div",{class:"mt-4",id:"personal_page",ref:p("personal_page")},[d(Ge)],512),e("div",{class:"mt-6",id:"setting",ref:p("setting")},[d(gt)],512),e("div",{class:"mt-6",id:"preferences",ref:p("preferences")},[d(St)],512),e("div",{class:"mt-6",id:"privacy-security",ref:p("privacy-security")},[d(Ut)],512),e("div",{class:"mt-6",id:"privacy-policy",ref:p("privacy-policy")},[d(jt)],512),e("div",{class:"mt-6",id:"terms-conditions",ref:p("terms-conditions")},[d(Tt)],512),e("div",{class:"my-6",id:"about",ref:p("about")},[d(Bt)],512)],512)])],64))}},Qt=K(Ft,[["__scopeId","data-v-816bffd4"]]);export{Qt as default};
