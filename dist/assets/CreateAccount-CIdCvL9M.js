import{c as x,o as c,a as r,m as W,s as H,d,ar as k,y as J,aK as E,aL as Q,M as F,u as X,aD as Y,aE as ee,am as re,l as P,j as o,ab as te,b as s,a1 as O,a6 as L,n as v,au as j,aM as V,ao as U,q as D,ad as ae,w as se,an as le,T as oe,aN as ne,ac as ie}from"./index-BlBeKsLJ.js";import{_ as S}from"./ButtonTab-ChHcEJTF.js";import{_ as ue,V as de}from"./BackButton-8bkgjEHA.js";function ce(N,y){return c(),x("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})])}function pe(N,y){return c(),x("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}const me={class:"bg-gray-100 dark:bg-gray-800 min-h-screen"},ge={class:"container mx-auto p-2 sm:p-0 mt-9 h-screen flex items-start justify-center"},ve={class:"buttons bg-gray-200 dark:bg-gray-700 p-[2px] rounded-full text-[16px] flex items-center gap-0.5 mb-4"},xe={key:0,class:"flex items-start justify-between gap-4 mb-4"},ye={class:"relative"},be={class:"relative"},fe={class:"buttons bg-gray-200 dark:bg-gray-700 p-[2px] rounded-full text-[13px] flex items-center gap-0.5 mb-4"},he={class:"relative",dir:"ltr"},ke={class:"relative"},we=["type","placeholder"],_e={class:"relative"},$e={class:"relative w-full mt-3"},Ce=["type"],Pe={class:"absolute right-8 top-6"},Me={__name:"CreateAccount",setup(N){const y=W(),{loading:M,backErrors:T}=H(y),w=d(!1),p=d("text"),q=d("0 59 123 4567"),R=d("مرحبا بعودتك"),u=X(),m=d(!1),g=d(!0),b=d("phone_number"),z={emailOrPhone:k().required("هذا الحقل مطلوب").test("emailOrPhone",function(t){if(!t)return!1;const e=/^[0-9]{10}$/,l=g.value;return(l?e.test(t):k().email().isValidSync(t))?!0:this.createError({message:l?"أدخل رقم هاتف صحيح":"ادخل بريد إلكتروني صحيح"})}),password:k().required("كلمة المرور مطلوبة").min(6,"كلمة المرور يجب أن تكون 6 خانات على الأقل")},I=J(()=>m.value?E(z):E({...z,first_name:k().required("الاسم الأول مطلوب"),last_name:k().required("الاسم الأخير مطلوب")})),{handleSubmit:G,errors:Z,defineField:_,resetForm:A}=Q({validationSchema:I,context:{type:p.value}}),[n]=_("emailOrPhone"),[$]=_("password"),[f]=_("first_name"),[h]=_("last_name"),a=d({}),C={};F(Z,t=>{Object.keys(C).forEach(e=>{C[e]&&clearTimeout(C[e])}),Object.keys(t).forEach(e=>{t[e]?C[e]=setTimeout(()=>{a.value={...a.value,[e]:t[e]}},800):a.value={...a.value,[e]:null}}),Object.keys(a.value).forEach(e=>{e in t||(a.value={...a.value,[e]:null})})},{deep:!0}),F(g,t=>{t?(q.value="0 59 123 4567",b.value="phone_number",p.value="text",n.value=""):(q.value="example@gmail.com",b.value="email",p.value="email",n.value=""),A({values:{emailOrPhone:"",password:"",first_name:f.value,last_name:h.value},errors:{}}),u.replace({name:u.currentRoute.value.name,query:{using:b.value}})},{immediate:!0}),F(()=>u.currentRoute.value.name,(t,e)=>{if(t!==e&&A({values:{emailOrPhone:"",password:"",first_name:"",last_name:""},errors:{}}),t=="login"){m.value=!0,R.value="مرحبا بعودتك";return}m.value=!1,R.value="انضمام"},{immediate:!0});const B=G(async()=>{const t=u.currentRoute.value.name,e={password:$.value};g.value?e.phone="+97"+n.value:e.email=n.value,t=="login"&&await y.login(e),t=="register"&&(e.name=`${f.value} ${h.value}`,await y.register(e))}),i=t=>Array.isArray(T.value?.[t])?T.value[t][0]:null,K=()=>{const t="https://nabd.cloud/public/api";window.location.href=`${t}/auth/google`};return(t,e)=>(c(),x("div",me,[e[15]||(e[15]=r("div",{class:"logo flex items-center justify-center pt-6"},[r("img",{src:Y,class:"w-32 dark:hidden",alt:"logo"}),r("img",{src:ee,class:"w-32 hidden dark:block",alt:"logo"})],-1)),r("div",ge,[r("form",{onSubmit:e[10]||(e[10]=re((...l)=>s(B)&&s(B)(...l),["prevent"])),class:"bg-white dark:bg-gray-900 rounded-[22px] border border-gray-300 dark:border-gray-700 p-6 w-full sm:w-[420px]"},[r("div",ve,[o(S,{label:"تسجيل الدخول","is-active":m.value,onClick:e[0]||(e[0]=l=>s(u).push({name:"login",query:{using:b.value}})),class:"py-2 rounded-full"},null,8,["is-active"]),o(S,{label:"انضم مجانا","is-active":!m.value,onClick:e[1]||(e[1]=l=>s(u).push({name:"register",query:{using:b.value}})),class:"py-2 rounded-full"},null,8,["is-active"])]),m.value?P("",!0):(c(),x("div",xe,[r("div",ye,[O(r("input",{type:"text",id:"nameinput",pattern:"[\\u0600-\\u06FF\\s]*",title:"الرجاء إدخال أحرف عربية فقط",placeholder:"الاسم الاول","onUpdate:modelValue":e[2]||(e[2]=l=>j(f)?f.value=l:null),class:v(["block w-full rounded-md placeholder:text-[14px] placeholder:font-normal",{"border-red-600 focus:border-red-500 dark:text-white focus:ring-red-600 bg-red-100/10 transition duration-300 placeholder:text-red-500":a.value.first_name,"focus:border-gray-500 border-none dark:text-white focus:ring-gray-500  bg-gray-100 dark:bg-gray-700 dark:placeholder-gray-400":!a.value.first_name}])},null,2),[[L,s(f)]]),o(V,{"error-message":a.value?.first_name},null,8,["error-message"])]),r("div",be,[O(r("input",{type:"text",id:"nameinput2",pattern:"[\\u0600-\\u06FF\\s]*",title:"الرجاء إدخال أحرف عربية فقط",placeholder:"الاسم الاخير","onUpdate:modelValue":e[3]||(e[3]=l=>j(h)?h.value=l:null),class:v(["block w-full rounded-md placeholder:text-[14px] placeholder:font-normal",{"border-red-600 focus:border-red-500 dark:text-white focus:ring-red-600  bg-red-100/10 transition duration-300 placeholder:text-red-500":a.value.last_name,"focus:border-gray-500 border-none dark:text-white focus:ring-gray-500  bg-gray-100 dark:bg-gray-700 dark:placeholder-gray-400":!a.value.last_name}])},null,2),[[L,s(h)]]),o(V,{"error-message":a.value.last_name},null,8,["error-message"])])])),r("div",fe,[o(S,{label:"البريد الالكتروني","is-active":!g.value,onClick:e[4]||(e[4]=l=>g.value=!1),class:"py-1 rounded-full"},null,8,["is-active"]),o(S,{label:"الهاتف","is-active":g.value,onClick:e[5]||(e[5]=l=>g.value=!0),class:"py-1 rounded-full"},null,8,["is-active"])]),r("div",he,[r("div",ke,[O(r("input",{id:"emailOrPhoneInput",type:p.value,placeholder:q.value,"onUpdate:modelValue":e[6]||(e[6]=l=>j(n)?n.value=l:null),class:v(["no-spinner focus:border-gray-500 focus:ring-gray-500 rounded-md bg-gray-100 dark:bg-gray-700 dark:text-white block w-full placeholder:text-[14px] placeholder:font-normal dark:placeholder-gray-400",{"pl-[35px]":p.value==="text","pl-[39px]":s(n)!==""&&p.value==="text","border-red-600 text-red-600  focus:border-red-500 dark:text-white focus:ring-red-600 bg-red-100/70 placeholder:text-red-500":a.value.emailOrPhone||i("email")||i("phone"),"focus:border-gray-500 border-none  dark:text-white focus:ring-gray-500  bg-gray-100 dark:bg-gray-700 dark:placeholder-gray-400":!a.value.emailOrPhone&&!i("email")&&!i("phone")}])},null,10,we),[[U,s(n)]]),p.value=="text"?(c(),x("span",{key:0,class:v(["absolute left-3 top-1/2 -translate-y-1/2",{"text-red-500":a.value.emailOrPhone||i("email")||i("phone"),"mt-[1px] text-[14px] dark:text-gray-400 font-normal text-gray-500":s(n)==="","text-black dark:text-white":s(n)!==""&&!i("email")&&!i("phone")}])},"+97",2)):P("",!0)]),o(V,{"error-message":a.value.emailOrPhone||i("email")||i("phone")},null,8,["error-message"])]),r("div",_e,[r("div",$e,[O(r("input",{id:"passwordInput",type:w.value?"text":"password","onUpdate:modelValue":e[7]||(e[7]=l=>j($)?$.value=l:null),placeholder:"كلمة المرور",class:v(["focus:border-gray-500 focus:ring-gray-500 rounded-md bg-gray-100 dark:bg-gray-700 dark:text-white block w-full placeholder:text-[14px] placeholder:font-normal dark:placeholder-gray-400 pl-10",{"border-red-600 focus:border-red-500 dark:text-white focus:ring-red-600 bg-red-100/70 placeholder:text-red-500":a.value.password,"focus:border-gray-500 border-none dark:text-white focus:ring-gray-500  bg-gray-100 dark:bg-gray-700 dark:placeholder-gray-400":!a.value.password}])},null,10,Ce),[[U,s($)]]),r("button",{type:"button",onClick:e[8]||(e[8]=l=>w.value=!w.value),class:v(["absolute inset-y-0 left-2 flex items-center px-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",{"text-red-500 hover:text-red-600":a.value.password}])},[(c(),D(ae(w.value?s(pe):s(ce)),{class:"w-5 h-5"}))],2)]),o(V,{"error-message":a.value.password},null,8,["error-message"])]),m.value?(c(),x("span",{key:1,onClick:e[9]||(e[9]=l=>s(u).push({name:"forgot-password"})),class:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-500 transition-colors cursor-pointer text-[12px] mt-[6px] block"},"هل نسيت كلمة السر؟")):P("",!0),o(oe,{type:"submit",label:R.value,class:v(["mt-6 select-none",{"pointer-events-none":s(M)}]),style:le({opacity:s(M)?.8:1})},{icon:se(()=>[s(M)?(c(),D(s(de),{key:0,size:"20",class:"text-gray-50 ml-2"})):P("",!0)]),_:1},8,["label","style","class"]),e[13]||(e[13]=r("div",{class:"relative mt-4"},[r("span",{class:"font-normal text-[16px] text-gray-600 dark:text-gray-300 relative z-40 -top-[4px] w-full flex items-center justify-center"},"أو"),r("span",{class:"absolute w-[30px] h-[4px] bg-white dark:bg-gray-900 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-30"}),r("span",{class:"line-through absolute w-full h-[2px] bg-gray-100 dark:bg-gray-700 top-1/2 left-0 -translate-y-1/2 z-10"})],-1)),r("button",{onClick:K,class:"continue-with-google border mt-3 border-gray-200 dark:border-gray-700 flex items-center justify-center w-full py-3 gap-2 rounded-md font-normal text-gray-800 dark:text-gray-200 transition-all hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 hover:border-gray-500"},[o(ie,{icon:s(ne),type:"button",class:"w-6 h-6 font-medium","stroke-width":"100"},null,8,["icon"]),e[12]||(e[12]=r("span",{class:"text-[17px] font-medium"},"المتابعة مع Google",-1))]),e[14]||(e[14]=te('<span class="text-[12px] text-gray-400 dark:text-gray-500 block w-full text-center mt-6">بالمتابعة, انت توافق على شروط الخدمة وسياسة الخصوصية</span><div class="flex items-center justify-center gap-2 mt-10"><span class="border-b-2 cursor-pointer transition-all hover:border-cyan-600 hover:text-cyan-600 text-[12px] border-cyan-500 pb-[2px] text-gray-800 dark:text-gray-200">شروط الخدمة</span><span class="w-1 h-1 rounded-full bg-gray-800"></span><span class="border-b-2 cursor-pointer transition-all hover:border-cyan-600 hover:text-cyan-600 text-[12px] border-cyan-500 pb-[2px] text-gray-800 dark:text-gray-200">سياسة الخصوصية</span></div>',2))],32),r("div",Pe,[o(ue,{onClick:e[11]||(e[11]=l=>s(u).push({name:"home"}))})])])]))}};export{Me as default};
